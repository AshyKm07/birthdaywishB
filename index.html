<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday ❤️</title>

<style>
body {
  margin: 0;
  height: 100vh;
  overflow: hidden;
  background-color: #0a0005;
  font-family: 'Georgia', serif;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* --- AESTHETIC THERMOMETER --- */
#thermometer-container {
    position: absolute;
    left: 30px;
    height: 300px;
    width: 12px;
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 20px;
    z-index: 120;
    display: flex;
    flex-direction: column-reverse;
}

#love-level {
    width: 100%;
    height: 0%; 
    background: linear-gradient(to top, #ff1493, #ff69b4, #ffffff);
    border-radius: 20px;
    transition: height 0.6s cubic-bezier(0.23, 1, 0.32, 1);
    box-shadow: 0 0 15px #ff1493;
}

#thermometer-label {
    position: absolute;
    left: 50px;
    top: 50%;
    transform: translateY(-50%);
    color: #ffb3c1;
    font-size: 10px;
    letter-spacing: 3px;
    text-transform: uppercase;
    writing-mode: vertical-rl;
    opacity: 0.8;
}

/* --- THE BALL --- */
#ball {
  width: 110px;
  height: 110px;
  background: rgba(255, 20, 147, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  position: absolute;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 150;
  transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  backdrop-filter: blur(5px);
}

#ball span {
  color: #fff;
  font-size: 10px;
  letter-spacing: 1px;
  text-align: center;
}

/* --- TRANSITION PORTAL --- */
#portal {
    position: fixed;
    width: 10px;
    height: 10px;
    background: #ff1493;
    border-radius: 50%;
    z-index: 200;
    pointer-events: none;
    opacity: 0;
    transform: scale(0);
}

/* --- CELEBRATION --- */
#celebration {
  position: fixed;
  inset: 0;
  opacity: 0;
  pointer-events: none;
  transition: opacity 2s ease;
  z-index: 50;
}

#celebration.show { opacity: 1; pointer-events: auto; }

.bg-layer {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: opacity 1.5s ease;
  z-index: -2;
}

.overlay {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  z-index: -1;
}

/* YOUR ORIGINAL NOTE STYLE */
#note {
  padding: 30px;
  color: #ffffff;
  font-size: clamp(15px, 4vw, 19px);
  line-height: 1.8;
  background: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(8px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 20px;
  text-align: center;
}

.floating-heart {
  position: absolute;
  color: #ff1493;
  z-index: 1;
  bottom: -50px;
  animation: floatUp linear forwards;
}

@keyframes floatUp {
  0% { transform: translateY(0) scale(0.5); opacity: 0; }
  20% { opacity: 0.9; }
  100% { transform: translateY(-110vh) scale(1.3); opacity: 0; }
}
</style>
</head>

<body>

<audio id="player" loop></audio>
<div id="portal"></div>

<div id="thermometer-container"><div id="love-level"></div></div>
<div id="thermometer-label">Love Meter</div>

<div id="ball"><span>don't<br>touch</span></div>

<div id="celebration">
  <img id="bg1" class="bg-layer" src="mylove1.jpeg" style="opacity: 1;">
  <img id="bg2" class="bg-layer" src="mylove2.jpeg" style="opacity: 0;">
  <div class="overlay"></div>
  <div style="height:100%; display:flex; align-items:center; justify-content:center; z-index:100;">
    <div style="width:85%; max-width:500px;">
      <h1 style="color:white; text-align:center; font-size: clamp(28px, 8vw, 48px); margin-bottom: 20px; text-shadow: 0 2px 15px rgba(0,0,0,0.8);">Happy Birthday, Love</h1>
      <div id="note">
          To the soul that makes my world beautiful.<br><br>
          Every moment with you is a gift I cherish. May your day be as radiant and lovely as you are.<br><br>
          Stay wonderful, stay you.<br><br>
          <strong>Always & Forever. ❤️</strong>
      </div>
      <div style="color: white; font-size: 10px; text-align: center; margin-top: 30px; opacity: 0.6; letter-spacing: 2px;">TAP ANYWHERE TO CHANGE PHOTO</div>
    </div>
  </div>
</div>

<script>
const ball = document.getElementById("ball");
const loveLevel = document.getElementById("love-level");
const celebration = document.getElementById("celebration");
const portal = document.getElementById("portal");
const player = document.getElementById("player");
const bg1 = document.getElementById("bg1");
const bg2 = document.getElementById("bg2");

let count = 0;
let currentIndex = 1;

ball.style.left = "calc(50% - 55px)";
ball.style.top = "calc(50% - 55px)";

function moveBall(e) {
  if(count >= 10) return;
  count++;
  
  loveLevel.style.height = (count * 10) + "%";
  
  if(count === 1) { player.src = "mylv1.mp3"; player.load(); }

  ball.style.transform = `scale(${1 - count * 0.06})`;
  ball.style.boxShadow = `0 0 ${count * 12}px #ff1493`;

  if(count === 10) {
    startSmoothTransition(e.clientX, e.clientY);
    return;
  }

  const x = Math.random() * (window.innerWidth - 130);
  const y = Math.random() * (window.innerHeight - 130);
  ball.style.left = x + "px";
  ball.style.top = y + "px";
}

function startSmoothTransition(x, y) {
    ball.style.opacity = "0";
    document.getElementById("thermometer-container").style.opacity = "0";
    document.getElementById("thermometer-label").style.opacity = "0";

    portal.style.left = x + "px";
    portal.style.top = y + "px";
    portal.style.opacity = "1";
    
    portal.animate([
        { transform: 'scale(0)', opacity: 1 },
        { transform: 'scale(350)', opacity: 1 }
    ], {
        duration: 1300,
        easing: 'cubic-bezier(0.7, 0, 0.3, 1)',
        fill: 'forwards'
    });

    setTimeout(() => {
        celebration.classList.add("show");
        player.play();
        setInterval(createHeart, 120);
        
        portal.animate([
            { opacity: 1 },
            { opacity: 0 }
        ], { duration: 1000, fill: 'forwards' });
    }, 1200);
}

function createHeart() {
  const h = document.createElement("div");
  h.className = "floating-heart";
  h.innerHTML = "❤";
  h.style.left = Math.random() * 100 + "vw";
  const size = Math.random() * 18 + 10;
  h.style.fontSize = size + "px";
  const d = Math.random() * 2 + 3;
  h.style.animationDuration = d + "s";
  celebration.appendChild(h);
  setTimeout(() => h.remove(), d * 1000);
}

celebration.addEventListener("click", () => {
    currentIndex++;
    if(currentIndex > 5) currentIndex = 1;
    player.src = `mylv${currentIndex}.mp3`;
    player.play();
    const next = `mylove${currentIndex}.jpeg`;
    if (parseFloat(bg1.style.opacity) === 1) {
        bg2.src = next; bg2.style.opacity = 1; bg1.style.opacity = 0;
    } else {
        bg1.src = next; bg1.style.opacity = 1; bg2.style.opacity = 0;
    }
});

ball.addEventListener("click", moveBall);
</script>

</body>
</html>